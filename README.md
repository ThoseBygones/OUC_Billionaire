# OUC_Billionaire

Developed using Python + Pygame 

Language: Python 3.7.3

Much THANKS to the partners below:

> + Zhiyuan Zeng (CFA)
> + Jingtao Sun (CFA)
> + Fengxi Ju (Finance)
> + Lina Luo (French)
> + Yafei Li (English)

They had the idea of developing this game, and made a significant contribution to the design of the game.

## 项目说明

- Python 小游戏《每羊大富翁》，回合制棋类游戏（游戏方式类似于《大富翁》）。

- 编程语言：Python 3.7.3

- 使用 Python 中的 Pygame 编写，版本为 1.9.6 （请自行安装）。

- 特别感谢以下同学在开发过程中的帮助（排名不分先后）：

  > + 曾致元（CFA专业）
  > + 孙镜涛（CFA专业）
  > + 鞠丰禧（金融专业）
  > + 罗立娜（法语专业）
  > + 李亚菲（英语专业）

  是他们有了写这个游戏的主意，并在整个游戏的设计中起到了关键作用。

## 游戏说明

+ 运行程序后，游戏窗口中会显示一个 “开始游戏” 的按钮，点击即可开始游戏。
+ 点击 “开始游戏” 的按钮后，游戏窗口中会显示一张 **中国海洋大学** 的手绘地图，地图上标记出了一定数量的地点，以及五个玩家的位置（若玩家位置重合，则显示 **<u>最近即将轮到进行游戏的玩家</u>** 的小人图像）；右侧为游戏状态信息栏，分为上中下三个部分。上部分显示骰子，中部分显示当前回合各个玩家的状况，下部分显示当前回合游戏进程（提示信息、触发事件信息、事件选项等）。
+ 游戏为五个玩家在同一个游戏窗口上进行（对不起我其实很想部署服务器来实现 C/S 模式的多人即时在线游戏，然而我没有服务器QAQ...）。
+ 游戏是回合制的，五个玩家轮流掷骰子。
+ 轮到某位玩家时，该玩家可以点击游戏窗口右上角的骰子来开始这个回合。
+ 点击完骰子后，会得到一个随机的点数，玩家在地图上移动相应的步数并触发事件。
+ 如果触发的事件需要玩家做出选择，那么在游戏状态信息栏的下部分会显示选项，玩家选择不同的选项会得到该事件不同的结果；若该事件不需要玩家做出选择，则会直接显示触发的事件的结果。
+ 玩家点击 “结束回合” 按钮结束该回合游戏。

## 版本及更新

- #### 8.1版本已更新

  > + 增加了一定数量的随机事件（约十件）。
  > + 还未完善的地方以及下一步要实现的功能：
  >   - ~~游戏中事件类型并不全，缺少随机结果事件...~~
  >   - ~~没有设置游戏的边界（即游戏在什么情况下结束）...~~
  >   - ~~游戏的部分素材还是取自别人的项目，还未更新为自己制作的素材（例如开始游戏按钮和结束回合按钮）。~~
  
- #### 8.0版本已更新

  > + 增加了新的 ***化院类（Class Hospital）*** 继承父类 ***地点类（Class Location）*** ，调用父类（超类）的构造函数，同时重写了 ***地点类（Class Location）*** 的 `trigger_event()` 方法，实现了在 **化院** 这个地点触发该地点特有的事件。
  > + 增加了新的 ***南区类（Class Hospital）*** 继承父类 ***地点类（Class Location）*** ，调用父类（超类）的构造函数，同时重写了 ***地点类（Class Location）*** 的 `trigger_event()` 方法，实现了在 **南区** 这个地点触发该地点特有的事件。
  > + 修改了父类 ***地点类（Class Location）*** 的 `trigger_event()` 方法，需要传入 `player` 的参数，使得 ***化院类（Class Hospital）*** 和 ***南区类（Class Hospital）*** 的 `trigger_event()` 方法能改变当前回合玩家的位置。
  > + 在 `OUC_Billionaire/data/events_list.json` 文件增加了几个固定地点会触发的事件，同时在该文件中增加及修改了一些随机事件。
  > + 还未完善的地方以及下一步要实现的功能：
  >   - ~~游戏中事件数量还太少，仍未加入大量事件以丰富游戏体验...~~
  >   - ~~没有设置游戏的边界（即游戏在什么情况下结束）...~~
  >   - ~~游戏的部分素材还是取自别人的项目，还未更新为自己制作的素材（例如开始游戏按钮和结束回合按钮）。~~
  
- #### 7.0版本已更新

  > + 修改了 ***游戏队列类（Class PlayerQueue）*** ，重构了游戏队列的代码，用最简单的方法实现应有的功能（原谅一个 ACMer 发现项目中可以用到数据结构和算法知识的时候满脑子都是什么操作 ==）。
  > + 修改了部分游戏逻辑，当前玩家应该属于 ***游戏队列类（Class PlayerQueue）*** 的一个实例化属性（数据成员）。
  
- #### 6.0版本已更新

  > + 增加了新的 ***医院类（Class Hospital）*** 继承父类 ***地点类（Class Location）*** ，调用父类（超类）的构造函数，同时重写了 ***地点类（Class Location）*** 的 `trigger_event()` 方法，实现了在 **校医院** 这个地点触发该地点特有的事件。
  > + 补充了一些代码的注释，使其更容易被阅读 = = 。
  > + 还未完善的地方以及下一步要实现的功能：
  >   + ~~关于事件，还有很多细节需要处理。~~
  >   + ~~游戏中事件数量还太少，仍未加入大量事件以丰富游戏体验...~~
  
- #### 5.0版本已更新

  > + **重要更新！事件系统大更新！！！**
  >   - 在 `OUC_Billionaire/data/events_list.json` 文件中增加了新的事件，并通过 “type” 键值将事件种类分为三种：“fixed_result”（固定结果事件），“random_result”（随机结果事件）和 “multiple_choice”（多项选择事件）。
  >   - 修改了 `text_image.py` 文件，使其在读取 `OUC_Billionaire/data/events_list.json` 文件后能够根据 “type” 键值分别处理不同的事件并生成相应的事件信息图片。
  >   - 重构了显示游戏状态面板信息部分的代码，使其能够根据不同的事件类型显示预先生成的事件信息图片。
  >   - 修改了回合阶段的进程。对于固定结果事件和随机结果事件，跳过（因为这两类事件本来也就没有）选择选项阶段，直接进入显示事件结果并结束本回合的阶段。
  > + **注意，部分代码逻辑有修改！！！** 其中，随机事件函数从原来的 `game_function.py` 文件中改到了 ***地点类（Class Location）*** 中作为其的一个方法。因为面向对象编程的逻辑，**<u>随机发生事件应该是地点的功能之一。</u>**
  
- #### 4.0版本已更新

  > + 增加了游戏开始前的界面。
  > + 增加了 “开始游戏按钮”，在游戏开始前的界面上。玩家点击 “开始游戏” 按钮后正式进入游戏。
  
- #### 3.1版本已更新

  > + 修改了骰子图片的大小并重新分配了游戏状态面板各个部分的尺寸，为显示事件相关信息腾出更多的空间。
  > + 增加了地图上的地点数量，标记了更多的地点。
  
- #### 3.0版本已更新

  > + **重要更新！部分核心功能重写和代码重构！** 解决了游戏面板文字显示不全的问题，在 `text_image.py` 中实现了从 `OUC_Billionaire/data/events_list.json` 文件中读取事件信息并且将事件描述、事件选项和选项结果等内容渲染成符合游戏状态面板宽度的图片（图片中的文字根据给定行宽自动换行）。
  > + 预先生成了样例事件信息的图片，每个事件信息的图片分别保存在 `OUC_Billionaire/event_images/` 目录下各自的文件夹中。
  > + 修改了 `OUC_Billionaire/data/events_list.json` 的键值映射结构，使文件数据的读入和使用更加方便。
  > + 重构了显示游戏状态面板信息部分的代码，使其能够显示预先生成的事件信息图片（这部分写的我想吐 QAQ）。
  > + 还未完善的地方以及下一步要实现的功能：
  >   - ~~事件数量太少（没有小伙伴或者助手们给我编事件啊 TAT），且事件类型有待进一步细化。~~
  >   - ~~还未实现能在外院触发特殊事件（翻译）的功能。~~
  >   - ~~其他的各种优化和额外小功能的添加...~~
  >   - ~~什么？有人跟我说要在这游戏里加入 “连连看” 小游戏 QAQ...~~
  
- #### 2.0版本已更新

  > + 添加了游戏过程中的游戏队列，实现了多个玩家轮流游戏不断循环的功能。
  > + 微调了游戏状态面板中每个信息块的尺寸，以适应信息的显示。
  > + 游戏过程中所处地点相同的玩家按照当前回合玩家在游戏队列中的顺序显示，即优先显示最近（即将）先手的玩家。
  > + ~~还未完善的地方以及下一步要实现的功能：~~
  >   - ~~游戏面板存在文字显示不全的问题。~~
  >   - ~~事件数量太少，且事件类型有待进一步细化。~~
  >   - ~~还未实现能在外院触发特殊事件（翻译）的功能。~~
  >   - ~~其他的各种优化和额外小功能的添加...~~
  
- #### 1.0版本已发布

  > - 导入了手绘板海大地图作为游戏地图。
  > - 从数据文件中导入一些重要地点及其信息（坐标信息及地点说明信息），并在地图上标记出来作为大富翁游戏中的地点。
  > - 添加了地图上相邻两个地点的连线。
  > - 在界面的右侧创建了一个显示当前游戏状态的面板，面板分为以下几个部分（信息块）：
  >   + 显示一个骰子，用于随机玩家移动的步数。
  >   + 显示当前各个玩家的状态（拥有金钱数量以及当前所处地点）。
  >   + 显示当前回合的信息，包括：该回合轮到哪个玩家移动、触发的事件、以及玩家做出不同选择后的结果，显示的信息随着该回合的进程而变化。
  > - 添加了点击骰子随机移动步数的功能。骰子可以在每回合刚开始的时候被该回合行动的玩家点击，骰子的面会闪烁变换（模拟掷骰子的过程）后显示一个随机的值。同时该玩家在地图上的位置发生相应的变化。
  > - 从数据文件中导入了示例事件作为事件触发功能的测试，触发的事件为系统随机选取。
  > - 添加了事件触发后玩家的选择功能。即触发事件后，玩家可以用鼠标点击不同的选项做出选择。
  > - ~~还未完善的地方以及下一步要实现的功能：~~
  >   + ~~游戏中暂时还只有一个玩家。~~
  >   + ~~游戏面板存在文字显示不全的问题。~~
  >   + ~~事件数量太少，且事件类型有待进一步细化。~~
  >   + ~~还未实现能在外院触发特殊事件（翻译）的功能。~~
  >   + ~~其他的各种优化和额外小功能的添加...~~

## 程序展示

- #### 游戏过程中掷骰子（本回合初始阶段）的界面

  ![](https://github.com/ThoseBygones/OUC_Billionaire/raw/master/screenshots/screenshot01.png)

- #### 游戏过程中事件触发（本回合玩家做出选择）的界面

  ![](https://github.com/ThoseBygones/OUC_Billionaire/raw/master/screenshots/screenshot02.png)

- #### 游戏过程中结束回合（本回合玩家结束回合）的界面

  ![](https://github.com/ThoseBygones/OUC_Billionaire/raw/master/screenshots/screenshot03.png)